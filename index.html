<html>
<body>
<pre>
<code>
## SLIP 1

CREATE TABLE Dept (
    dno INT PRIMARY KEY,
    dname VARCHAR(50) NOT NULL,
    loc VARCHAR(50)
);

CREATE TABLE Emp (
    eno INT PRIMARY KEY,
    ename VARCHAR(50) NOT NULL,
    designation VARCHAR(50),
    salary DECIMAL(10,2) CHECK (salary > 0),
    Date_Of_Joining DATE,
    dno INT,
    FOREIGN KEY (dno) REFERENCES Dept(dno)
);

-- Inserting data into Dept table
INSERT INTO Dept (dno, dname, loc) VALUES
(1, 'Account Department', 'Pune'),
(2, 'Quality', 'Mumbai'),
(3, 'Computer Science', 'Bangalore');

-- Inserting data into Emp table
INSERT INTO Emp (eno, ename, designation, salary, Date_Of_Joining, dno) VALUES
(101, 'Mr. Manager', 'Manager', 80000.00, '2020-01-01', 1),
(102, 'Mr. Advait', 'Staff', 60000.00, '2018-05-15', 1),
(103, 'Mr. Roy', 'Staff', 55000.00, '2017-07-20', 3),
(104, 'Mr. Ankit', 'Manager', 70000.00, '2019-02-10', 2),
(105, 'Ms. Priya', 'Staff', 65000.00, '2018-10-05', 2),
(106, 'Mr. John', 'Staff', 50000.00, '2020-03-12', 3),
(107, 'Ms. Maya', 'Staff', 45000.00, '2021-04-25', 2);


SELECT d.dname AS Department, COUNT(e.eno) AS Employee_Count
FROM Dept d
LEFT JOIN Emp e ON d.dno = e.dno
GROUP BY d.dname;

SELECT e.ename
FROM Emp e
JOIN Dept d ON e.dno = d.dno
WHERE e.designation = 'Manager' AND d.dname = 'Account Department';

SELECT d.dname AS Department
FROM Dept d
JOIN Emp e ON d.dno = e.dno
WHERE d.loc = 'Pune' AND e.ename = 'Mr. Advait';

SELECT e.ename
FROM Emp e
JOIN Dept d ON e.dno = d.dno
WHERE e.salary > 50000 AND d.dname = 'Quality';

UPDATE Emp
SET Date_Of_Joining = '2019-06-15'
WHERE ename = 'Mr. Roy' AND dno IN (SELECT dno FROM Dept WHERE dname = 'Computer Science');

--------------------------------------
##SLIP 4

CREATE TABLE Patient (
    PCode INT PRIMARY KEY,
    Name VARCHAR(100) NOT NULL,
    Addr VARCHAR(255) NOT NULL,
    Disease VARCHAR(100)
);

CREATE TABLE Bed (
    Bed_No INT PRIMARY KEY,
    RoomNo INT CHECK(RoomNo > Bed_No),
    loc VARCHAR(100),
    FOREIGN KEY (Bed_No) REFERENCES Patient(PCode)
);

-- Insert data for Patient table
INSERT INTO Patient (PCode, Name, Addr, Disease) VALUES
(1, 'John Doe', 'Pimple Gurav', 'Fever'),
(2, 'Jane Smith', 'Hinjewadi', 'Cough'),
(3, 'Alice Johnson', 'Pimple Gurav', 'Headache'),
(4, 'Bob Williams', 'Kothrud', 'Flu'),
(5, 'sam Luthor', 'Pimple Gurav', 'malaria'),
(6, 'Robert', 'kharadi', 'flu');
--Insert data for Bed table
INSERT INTO Bed (Bed_No, RoomNo, loc) VALUES
(1, 105, 'South Wing'),
(2, 102, 'East Wing'),
(3, 102, 'North Wing'),
(4, 103, 'West Wing'),
(5, 105, 'South Wing'),
(6, 101, 'north wing');

SELECT * FROM Patient WHERE Addr = 'Pimple Gurav'

DELETE FROM Bed
WHERE Bed_No = 1 AND RoomNo = 105;
DELETE FROM Patient WHERE PCode = 1;  -- Assuming Bed_No is the same as PCode

SELECT RoomNo, COUNT(*) AS Patient_Count 
FROM Bed GROUP BY RoomNo;

SELECT P.Name AS Patient_Name
FROM Patient P 
JOIN Bed B ON P.PCode = B.Bed_No 
WHERE B.RoomNo = 101;

SELECT Disease  FROM Patient WHERE PCode = 1; -- Assuming Bed_No is the same as PCode  

-------------------------------------
## SLIP 5
    
CREATE TABLE Customer (
    cust_no INT PRIMARY KEY,
    cust_name VARCHAR(100),
    address VARCHAR(255),
    city VARCHAR(100)
);
ALTER TABLE Customer
ADD Phone_No INT;

CREATE TABLE Loan (
    loan_no INT PRIMARY KEY,
    loan_amt DECIMAL(12, 2) CHECK (loan_amt > 0)
);

CREATE TABLE Customer_Loan (
    cust_no INT,
    loan_no INT,
    PRIMARY KEY (cust_no, loan_no),
    FOREIGN KEY (cust_no) REFERENCES Customer(cust_no) ON DELETE CASCADE,
    FOREIGN KEY (loan_no) REFERENCES Loan(loan_no) ON DELETE CASCADE
);

INSERT INTO Customer (cust_no, cust_name, address, city, Phone_No)
VALUES
    (1, 'John Doe', '123 Main St', 'New York', 1234567890),
    (2, 'Jane Smith', '456 Elm St', 'Los Angeles', 9876543210),
    (3, 'Alice Johnson', '789 Oak St', 'Chicago', 5551234567),
    (4, 'David Brown', '101 Pine St', 'Pimpri', 1112223333),
    (5, 'Daniel Clark', '321 Maple St', 'Pune', 9998887777),
    (6, 'Diana White', '555 Cedar St', 'Pimpri', 7776665555);

INSERT INTO Loan (loan_no, loan_amt)
VALUES
    (101, 15000.00),
    (102, 5000.00),
    (103, 2000000.00),
    (104, 800.00),
    (105, 1200000.00),
    (106, 10000.00);

INSERT INTO Customer_Loan (cust_no, loan_no)
VALUES
    (1, 101),
    (2, 102),
    (3, 103),
    (4, 104),
    (5, 105),
    (6, 106);

DELETE FROM Customer
WHERE cust_no IN (
    SELECT cl.cust_no
    FROM Customer_Loan cl
    JOIN Loan l ON cl.loan_no = l.loan_no
    WHERE l.loan_amt < 1000
);

        
SELECT c.*
FROM Customer c
JOIN Customer_Loan cl ON c.cust_no = cl.cust_no
JOIN Loan l ON cl.loan_no = l.loan_no
WHERE l.loan_amt > 1000000;

        
SELECT *
FROM Customer
WHERE cust_name LIKE 'D%';


SELECT c.cust_name
FROM Customer c
JOIN Customer_Loan cl ON c.cust_no = cl.cust_no
JOIN Loan l ON cl.loan_no = l.loan_no
WHERE c.city = 'Pimpri'
ORDER BY c.cust_name DESC;
----------------------------------------------------        
## SLIP 3
-- Creating the Hospital table
CREATE TABLE Hospital (
    hno INT PRIMARY KEY,
    hname VARCHAR(100),
    city VARCHAR(50),
    Est_year INT CHECK (Est_year > 1990),
    addr VARCHAR(255)
);

-- Creating the Doctor table
CREATE TABLE Doctor (
    dno INT PRIMARY KEY,
    dname VARCHAR(100),
    addr VARCHAR(255),
    Speciality VARCHAR(100),
    hno INT,
    FOREIGN KEY (hno) REFERENCES Hospital(hno)
);
-- Inserting values into the Hospital table
INSERT INTO Hospital (hno, hname, city, Est_year, addr)
VALUES 
    (1, 'Ruby Hospital', 'Pune', 1995, '123 Main Street'),
    (2, 'Sapphire Hospital', 'Pimpri', 2000, '456 Oak Avenue'),
    (3, 'Birla Hospital', 'Chinchwad', 1992, '789 Elm Street');

-- Inserting values into the Doctor table
INSERT INTO Doctor (dno, dname, addr, Speciality, hno)
VALUES 
    (101, 'Dr. Smith', '101 First Street', 'Cardiology', 1),
    (102, 'Dr. Johnson', '202 Second Street', 'Orthopedics', 1),
    (103, 'Dr. Williams', '303 Third Street', 'Pediatrics', 2),
    (104, 'Dr. Brown', '404 Fourth Street', 'Oncology', 3),
    (105, 'Dr. Wilson', '505 Fifth Street', 'Neurology', 3);
select * from hospital;
select * from doctor;
-- Deleting the addr column from the Hospital table
ALTER TABLE Hospital
DROP COLUMN addr;
select * from hospital;
SELECT d.dname AS Doctor_Name, h.hname AS Hospital_Name, d.Speciality AS Specialty
FROM Doctor d
JOIN Hospital h ON d.hno = h.hno
WHERE h.city = 'Pune';
SELECT hname
FROM Hospital
WHERE city = 'Pimpri';
SELECT d.dname AS Doctor_Name
FROM Doctor d
JOIN Hospital h ON d.hno = h.hno
WHERE h.hname = 'Birla Hospital' AND h.city = 'Chinchwad';
SELECT Speciality
FROM Doctor
WHERE hno = (
    SELECT hno
    FROM Hospital
    WHERE hname = 'Ruby Hospital'
);
----------------------------------------------------------
 ## SLIP 20
        
 -- Creating tables
CREATE TABLE Country (
    con_code INT PRIMARY KEY,
    name VARCHAR(50) NOT NULL,
    capital VARCHAR(50) NOT NULL
);

CREATE TABLE Population (
    pop_code INT PRIMARY KEY,
    population INT,
    FOREIGN KEY (pop_code) REFERENCES Country(con_code)
);

-- Inserting sample data
INSERT INTO Country (con_code, name, capital)
VALUES 
    (1, 'India', 'Delhi'),
    (2, 'USA', 'Washington DC'),
    (3, 'China', 'Beijing');

INSERT INTO Population (pop_code, population)
VALUES 
    (1, 1380000000), -- India
    (2, 331000000),  -- USA
    (3, 1440000000); -- China

-- Queries
-- 1. Name and population of country whose capital is ‘Delhi’
SELECT c.name, p.population
FROM Country c
JOIN Population p ON c.con_code = p.pop_code
WHERE c.capital = 'Delhi';

-- 2. Count the number of countries whose population is > 60,00,000
SELECT COUNT(*)
FROM Population
WHERE population > 60000000;

-- 3. Find the country details with highest population
SELECT c.name, p.population
FROM Country c
JOIN Population p ON c.con_code = p.pop_code
WHERE p.population = (SELECT MAX(population) FROM Population);

-- 4. Display country wise population details
SELECT c.name, p.population
FROM Country c
JOIN Population p ON c.con_code = p.pop_code;
-------------------------------------------------------------- 
## SLIP 9
        
CREATE TABLE Owner (
    owner_name VARCHAR(255) PRIMARY KEY,
    addr VARCHAR(255),
    phno VARCHAR(15)
);

CREATE TABLE Property (
    pno INT PRIMARY KEY,
    desc VARCHAR(255),
    area DECIMAL(10,2),
    rate DECIMAL(10,2) CHECK (rate > 0),
    owner_name VARCHAR(255),
    FOREIGN KEY (owner_name) REFERENCES Owner(owner_name)
);
-- Inserting data into Owner table
INSERT INTO Owner (owner_name, addr, phno) VALUES 
('Mr. Smith', '123 Main St, Mumbai', '123-456-7890'),
('Mr. Johnson', '456 Oak St, Delhi', '456-789-0123'),
('Mr. Patil', '789 Pine St, Pune', '789-012-3456'),
('Mr. Joshi', '321 Maple St, Pune', '321-654-9870');

-- Inserting data into Property table
INSERT INTO Property (pno, desc, area, rate, owner_name) VALUES
(1, 'Apartment 1', 'Mumbai', 1200, 'Mr. Smith'),
(2, 'House 1', 'Delhi', 1500, 'Mr. Johnson'),
(3, 'Condo 1', 'Pune', 80000, 'Mr. Patil'),
(4, 'Villa 1', 'Pune', 100000, 'Mr. Joshi'),
(5, 'Apartment 2', 'Pune', 90000, 'Mr. Joshi'),
(6, 'House 2', 'Mumbai', 1100, 'Mr. Smith'),
(7, 'Condo 2', 'Delhi', 1400, 'Mr. Johnson'),
(8, 'Villa 2', 'Pune', 95000, 'Mr. Patil'),
(9, 'Apartment 3', 'Mumbai', 1050, 'Mr. Smith'),
(10, 'House 3', 'Delhi', 1600, 'Mr. Johnson');


-- 1. Display area of property whose rate is less than 100000
SELECT area FROM Property WHERE rate < 100000;

-- 2. Give the details of owner whose property is at “Pune”
SELECT Owner.* 
FROM Owner 
JOIN Property ON Owner.owner_name = Property.owner_name 
WHERE Property.area = 'Pune';

-- 3. Display area wise property details.
SELECT area, pno, desc, rate, owner_name 
FROM Property 
ORDER BY area;

-- 4. Display property owned by 'Mr.Patil' having minimum rate.
SELECT * 
FROM Property 
WHERE owner_name = 'Mr. Patil' 
AND rate = (SELECT MIN(rate) FROM Property WHERE owner_name = 'Mr. Patil');

-- 5. Delete all properties from “Pune” owned by “Mr. Joshi”.
DELETE FROM Property 
WHERE area = 'Pune' 
AND owner_name = 'Mr. Joshi';






        
</code>
</pre>
</body>
</html>
